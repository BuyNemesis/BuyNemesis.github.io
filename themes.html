<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Night External - Custom Themes</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        /* Navigation Styles */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(232, 187, 249, 0.1);
            padding: 20px 24px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .status-wrapper {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        #live-status {
            color: rgba(255, 255, 255, 0.8);
            font-size: 14px;
            letter-spacing: 0.5px;
            padding: 6px 12px;
            border-radius: 4px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(232, 187, 249, 0.1);
            transition: all 0.3s ease;
        }
        
        #live-status.green { border-color: rgba(0, 255, 0, 0.3); color: #00ff00; }
        #live-status.red { border-color: rgba(255, 0, 0, 0.3); color: #ff0000; }
        #live-status.yellow { border-color: rgba(255, 255, 0, 0.3); color: #ffff00; }
        #live-status.blue { border-color: rgba(0, 162, 255, 0.3); color: #00a2ff; }
        
        .nav-brand {
            font-family: 'Outfit', sans-serif;
            font-size: 1.5rem;
            font-weight: 600;
            color: #E8BBF9;
            text-shadow: 0 0 20px rgba(232, 187, 249, 0.5);
            text-decoration: none;
            margin-left: 0;
            padding-left: 0;
        }
        
        .nav-links {
            display: flex;
            gap: 30px;
            align-items: center;
            margin-left: auto;
            margin-right: 0;
        }
        
        .nav-btn {
            color: rgba(255, 255, 255, 0.6);
            text-decoration: none;
            font-weight: 400;
            font-size: 13px;
            letter-spacing: 0.5px;
            transition: all 0.3s ease;
            position: relative;
            text-transform: uppercase;
        }
        
        .nav-btn:hover,
        .nav-btn.active {
            color: #E8BBF9;
        }
        
        @media (max-width: 768px) {
            .navbar {
                flex-wrap: wrap;
                padding: 12px 20px;
            }
            .nav-brand {
                margin-left: 0;
                order: 1;
                width: 100%;
                text-align: left;
                padding-left: 0;
            }
            .nav-links {
                margin-left: 0;
                order: 2;
                width: 100%;
                justify-content: flex-start;
                gap: 14px;
                padding: 8px 0 0 0;
            }
        }

        /* Theme Grid */
        .theme-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 4rem;
            max-width: 1600px;
            margin: 4rem auto;
            padding: 0 3rem;
        }

        .theme-card {
            background: rgba(10, 10, 14, 0.7);
            border: 1.5px solid rgba(232, 187, 249, 0.13);
            border-radius: 20px;
            overflow: visible;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            display: flex;
            flex-direction: column;
            padding: 3rem;
            backdrop-filter: blur(10px);
        }

        .theme-card::before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at top left, rgba(232, 187, 249, 0.08), transparent 70%);
            border-radius: inherit;
            z-index: 0;
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .theme-card:hover {
            transform: translateY(-12px) scale(1.02);
            border-color: var(--primary);
            box-shadow: 0 20px 60px rgba(0,0,0,0.5), 
                       0 8px 24px rgba(232,187,249,0.15),
                       0 2px 6px rgba(232,187,249,0.1),
                       inset 0 1px 1px rgba(255,255,255,0.05);
            background: rgba(21, 21, 26, 0.9);
        }

        .theme-card:hover::before {
            opacity: 1;
        }

        .theme-preview {
            position: relative;
            width: 100%;
            height: 460px;
            perspective: 1200px;
            margin-bottom: 3rem;
            z-index: 1;
        }

        .theme-preview .preview-stack {
            position: relative;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .theme-preview.has-popup .preview-stack {
            transform: scale(0.95);
        }

        .theme-preview.has-popup img:not(.popup) {
            opacity: 0.5;
            transform: scale(0.95) !important;
            pointer-events: none;
        }

        .theme-preview img {
            position: absolute;
            width: 360px;
            height: 270px;
            border-radius: 12px;
            transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.7),
                       0 4px 12px rgba(232, 187, 249, 0.1);
            filter: brightness(0.95) saturate(1.1);
            cursor: pointer;
            transform-origin: center center;
            will-change: transform, filter;
        }

        .theme-info {
            position: relative;
            z-index: 1;
        }

        .theme-preview img:nth-child(1) {
            transform: translateX(-50%) translateY(-50%) translateX(-160px) translateY(-80px) rotateY(12deg) rotateZ(-4deg);
            left: 50%;
            top: 50%;
            z-index: 4;
            filter: brightness(0.9) saturate(1.1);
        }

        .theme-preview img:nth-child(2) {
            transform: translateX(-50%) translateY(-50%) translateX(-55px) translateY(-45px) rotateY(6deg) rotateZ(1deg);
            left: 50%;
            top: 50%;
            z-index: 3;
            filter: brightness(0.95) saturate(1.1);
        }

        .theme-preview img:nth-child(3) {
            transform: translateX(-50%) translateY(-50%) translateX(55px) translateY(-25px) rotateY(-6deg) rotateZ(-1deg);
            left: 50%;
            top: 50%;
            z-index: 2;
            filter: brightness(0.85) saturate(1.1);
        }

        .theme-preview img:nth-child(4) {
            transform: translateX(-50%) translateY(-50%) translateX(160px) translateY(0px) rotateY(-12deg) rotateZ(4deg);
            left: 50%;
            top: 50%;
            z-index: 1;
            filter: brightness(0.8) saturate(1.1);
        }

        .theme-preview img.focused {
            transform: scale(1.5) rotateY(0deg) rotateZ(0deg) !important;
            filter: brightness(1.1) saturate(1.2) contrast(1.05) !important;
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.8),
                       0 12px 40px rgba(232, 187, 249, 0.2) !important;
            z-index: 1000 !important;
        }

        .download-icon {
            display: inline-block;
            margin-left: 8px;
            transition: transform 0.3s ease;
        }

        .theme-download:hover .download-icon {
            transform: translateY(3px);
        }

        .theme-info {
            padding: 1.5rem;
        }

        .theme-name {
            font-size: 2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--primary);
            letter-spacing: -0.02em;
            font-family: 'Outfit', sans-serif;
            text-shadow: 0 0 20px rgba(232, 187, 249, 0.3);
        }

        .theme-description {
            color: rgba(255, 255, 255, 0.7);
            font-size: 1.05rem;
            line-height: 1.7;
            margin-bottom: 2rem;
            letter-spacing: 0.2px;
        }

        .theme-download {
            background: rgba(232, 187, 249, 0.05);
            border: 1px solid var(--primary);
            color: var(--primary);
            padding: 1rem 2rem;
            font-size: 0.95rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            text-decoration: none;
            display: inline-block;
            text-align: center;
            border-radius: 6px;
            position: relative;
            overflow: hidden;
        }

        .theme-download::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, 
                rgba(232, 187, 249, 0.15), 
                rgba(195, 142, 225, 0.15), 
                rgba(142, 87, 181, 0.15)
            );
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .theme-download:hover {
            background: rgba(232, 187, 249, 0.1);
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(232, 187, 249, 0.15);
            color: #fff;
        }

        .theme-download:hover::before {
            opacity: 1;
        }

        .theme-preview-dots {
            position: absolute;
            bottom: 1rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 0.5rem;
            z-index: 2;
        }

        .preview-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .preview-dot.active {
            background: var(--primary);
            transform: scale(1.2);
        }

        @media (max-width: 768px) {
            .theme-grid {
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
                padding: 0 1rem;
            }
        }

        /* Hero Section Styles */
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #000;
            color: white;
            overflow-x: hidden;
            line-height: 1.6;
            position: relative;
            margin: 0;
            padding: 0;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000000;
            z-index: -2;
        }

        body::after {
            content: '';
            position: fixed;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at center, rgba(232, 187, 249, 0.08) 0%, transparent 50%);
            animation: floatGradient 25s ease-in-out infinite;
            z-index: -1;
        }

        @keyframes floatGradient {
            0%, 100% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(20%, 15%) scale(1.1); }
            66% { transform: translate(-15%, 20%) scale(0.95); }
        }

        .hero {
            min-height: 70vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding-top: 100px;
        }

        .hero-inner {
            max-width: 780px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .hero-title {
            font-family: 'Outfit', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: clamp(4rem, 10vw, 72px);
            font-weight: 600;
            letter-spacing: -0.02em;
            color: #fff;
            text-shadow: 0 0 30px rgba(232, 187, 249, 0.5);
            margin-bottom: 30px;
            line-height: 1.1em;
        }

        .hero-subtitle {
            font-size: 1.2rem;
            font-weight: 300;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 60px;
            letter-spacing: 0.5px;
            max-width: 640px;
            margin-left: auto;
            margin-right: auto;
        }

        .section-blend {
            position: relative;
        }

        .pricing-section {
            min-height: auto;
            padding: 60px 40px 120px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @media (max-width: 768px) {
            .hero-title {
                font-size: 3rem;
            }
            
            .hero {
                min-height: 60vh;
            }
        }
    </style>
</head>
<body>
    <div id="site-root">
        <nav class="navbar">
            <div class="status-wrapper">
                <div id="live-status"></div>
                <a href="index.html" class="nav-brand">nemesis</a>
            </div>
            <div class="nav-links">
                <a href="nemesis_configs_page.html" class="nav-btn">Configs</a>
                <a href="index.html#features" class="nav-btn">Features</a>
                <a href="media.html" class="nav-btn">Media</a>
                <a href="patchnotes.html" class="nav-btn">Patchnotes</a>
                <a href="themes.html" class="nav-btn active">Themes</a>
                <a href="affiliate.html" class="nav-btn">Affiliate</a>
                <a href="index.html#screenshots" class="nav-btn">Demos</a>
                <a href="index.html#faq" class="nav-btn">FAQ</a>
                <a href="index.html#buy" class="nav-btn">Buy</a>
            </div>
        </nav>

        <section class="hero section-blend hero-centered">
            <div class="hero-inner">
                <h1 class="hero-title">Themes</h1>
                <p class="hero-subtitle">Customize your experience with our handcrafted themes</p>
            </div>
        </section>

        <section class="pricing-section section-blend">
            <div class="theme-grid" id="themeGrid">
                <!-- Theme cards will be dynamically inserted here -->
            </div>
        </section>
    </div>

    <script>
        // Function to update status (reused from index.html)
        async function updateLiveStatus() {
            try {
                const response = await fetch('https://nemesis-backend-yv3w.onrender.com/api/live-status', {
                    cache: 'no-store'
                });
                
                if (!response.ok) throw new Error('Backend request failed');
                
                const status = await response.json();
                const statusElement = document.getElementById('live-status');
                
                if (statusElement && status.emoji) {
                    statusElement.innerHTML = status.emoji + ' ' + status.text;
                    statusElement.className = status.color || 'gray';
                }
            } catch (error) {
                console.warn('Status update failed, using fallback:', error);
                const statusElement = document.getElementById('live-status');
                if (statusElement) {
                    statusElement.innerHTML = 'ðŸŸ¢ Online';
                    statusElement.className = 'green';
                }
            }
        }

        // Theme preview interaction
        document.addEventListener('click', (e) => {
            const img = e.target.closest('.theme-preview img');
            if (!img) return;

            // Reset all images
            document.querySelectorAll('.theme-preview img').forEach(i => {
                i.style.transform = '';
                i.style.zIndex = '';
            });

            // If clicked image is already focused, unfocus it
            if (img.classList.contains('focused')) {
                img.classList.remove('focused');
                return;
            }

            // Focus clicked image
            document.querySelectorAll('.theme-preview img').forEach(i => i.classList.remove('focused'));
            img.classList.add('focused');
            img.style.transform = 'translate(-50%, -50%) scale(1.5)';
            img.style.zIndex = '1000';
        });

        // Theme preview interaction system
        document.addEventListener('click', (e) => {
            const img = e.target.closest('.theme-preview img');
            const themePreview = e.target.closest('.theme-preview');

            // Click outside any theme preview - reset all
            if (!themePreview) {
                document.querySelectorAll('.theme-preview').forEach(preview => {
                    preview.classList.remove('has-popup');
                    preview.querySelectorAll('img').forEach(img => {
                        img.classList.remove('focused', 'popup');
                        img.style.transform = '';
                        img.style.zIndex = '';
                        img.style.pointerEvents = '';
                    });
                });
                return;
            }

            // If no image clicked but clicked inside preview area, ignore
            if (!img) return;

            // Get the preview stack and current state
            const previewStack = themePreview.querySelector('.preview-stack');
            const hasPopup = themePreview.classList.contains('has-popup');
            const isClickedImagePopup = img.classList.contains('popup');

            // If we already have a popup and clicked a different image, ignore it
            if (hasPopup && !isClickedImagePopup) return;

            // Reset this preview's images
            themePreview.querySelectorAll('img').forEach(i => {
                i.classList.remove('focused', 'popup');
                i.style.transform = '';
                i.style.zIndex = '';
                i.style.pointerEvents = '';
            });

            // Toggle popup state
            if (isClickedImagePopup) {
                themePreview.classList.remove('has-popup');
                previewStack.classList.remove('popup-open');
                img.style.pointerEvents = '';
            } else {
                themePreview.classList.add('has-popup');
                previewStack.classList.add('popup-open');
                img.classList.add('focused', 'popup');
                img.style.transform = 'scale(1.5) rotateY(0deg) rotateZ(0deg)';
                img.style.zIndex = '1000';
                img.style.pointerEvents = 'auto';
                
                // Disable pointer events on other images
                themePreview.querySelectorAll('img').forEach(i => {
                    if (i !== img) {
                        i.style.pointerEvents = 'none';
                    }
                });
            }
        });

        // Load and render themes
        async function loadThemes() {
            try {
                const themeGrid = document.getElementById('themeGrid');
                const themeFolders = [
                    'Autumn Harvest', 'Candy Dreams', 'Christmas', 'Cyberpunk', 
                    'Deep Ocean', 'Easter', 'Forest Glow', 'Forest Twilight', 
                    'Galaxy', 'Gold Luxury', 'Halloween', 'Lava Flow', 
                    'Matrix Rain', 'Midnight Purple', 'Neon Night', 'New Year',
                    'Spring Blossom', 'Summer Sunset', 'Sunset Paradise', 
                    'Valentines', 'Winter Frost'
                ];

                themeFolders.forEach(themeName => {
                    const themeId = themeName.toLowerCase().replace(/\s+/g, '-');
                    const description = getThemeDescription(themeName);
                    
                    const card = document.createElement('div');
                    card.className = 'theme-card';
                    card.innerHTML = `
                        <div class="theme-preview">
                            <div class="preview-stack">
                                ${[1, 2, 3, 4].map(num => 
                                    `<img src="themes/${themeName}/${num}.png" 
                                     alt="${themeName} Preview ${num}" 
                                     loading="lazy"
                                     onerror="this.src='assets/icons/preview-placeholder.png';">`
                                ).join('')}
                            </div>
                        </div>
                        <div class="theme-info">
                            <h3 class="theme-name">${themeName}</h3>
                            <p class="theme-description">${description}</p>
                            <a href="#" class="theme-download" data-theme="${themeId}">
                                Download Theme <span class="download-icon">â†“</span>
                            </a>
                        </div>
                    `;

                    themeGrid.appendChild(card);
                });

            } catch (error) {
                console.error('Error loading themes:', error);
            }
        }

        // Theme descriptions based on names
        function getThemeDescription(themeName) {
            const descriptions = {
                'Autumn Harvest': 'Warm autumn colors with rich browns and deep oranges create a cozy, seasonal atmosphere.',
                'Candy Dreams': 'Sweet and vibrant pink tones for a playful and energetic interface experience.',
                'Christmas': 'Festive red and green color scheme perfect for the holiday season.',
                'Cyberpunk': 'Neon-infused dark theme with striking contrasts and futuristic vibes.',
                'Deep Ocean': 'Serene blues and aqua tones inspired by the depths of the ocean.',
                'Easter': 'Soft pastels and gentle colors celebrating spring and renewal.',
                'Forest Glow': 'Ethereal forest greens with a magical luminescent quality.',
                'Forest Twilight': 'Dark forest theme with mysterious undertones and subtle highlights.',
                'Galaxy': 'Cosmic purples and deep space blacks with stellar accents.',
                'Gold Luxury': 'Elegant gold and black theme exuding sophistication and class.',
                'Halloween': 'Spooky orange and purple combination perfect for Halloween.',
                'Lava Flow': 'Dynamic reds and blacks reminiscent of flowing magma.',
                'Matrix Rain': 'Classic digital rain effect with signature matrix green.',
                'Midnight Purple': 'Rich purple gradients on a dark backdrop for a royal feel.',
                'Neon Night': 'Vibrant neon accents that pop against a dark background.',
                'New Year': 'Celebratory gold and midnight blue for new year festivities.',
                'Spring Blossom': 'Fresh and light theme inspired by spring flowers.',
                'Summer Sunset': 'Warm oranges and pinks capturing the perfect summer sunset.',
                'Sunset Paradise': 'Tropical sunset colors for an exotic interface experience.',
                'Valentines': 'Romantic pinks and reds perfect for Valentine\'s Day.',
                'Winter Frost': 'Cool blues and whites capturing the essence of winter.'
            };
            return descriptions[themeName] || 'A custom theme for Nemesis interface.';
        }

                    // Handle theme downloads
        function downloadTheme(themeId) {
            const themeName = themeId.split('-').map(word => 
                word.charAt(0).toUpperCase() + word.slice(1)
            ).join(' ');
            
            fetch(`themes/${themeName}/${themeName}.json`)
                .then(response => response.blob())
                .then(blob => {
                    const url = window.URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `${themeName}.json`;
                    document.body.appendChild(a);
                    a.click();
                    window.URL.revokeObjectURL(url);
                    a.remove();
                })
                .catch(error => console.error('Error downloading theme:', error));
        }

        // Set up download click handlers
        document.addEventListener('click', (e) => {
            const downloadBtn = e.target.closest('.theme-download');
            if (!downloadBtn) return;
            
            e.preventDefault();
            const themeId = downloadBtn.dataset.theme;
            downloadTheme(themeId);
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            updateLiveStatus();
            loadThemes();
            setInterval(updateLiveStatus, 30000);
        });
    </script>
</body>
</html>